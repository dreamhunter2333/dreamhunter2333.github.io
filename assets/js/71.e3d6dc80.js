(window.webpackJsonp=window.webpackJsonp||[]).push([[71],{791:function(t,e,a){"use strict";a.r(e);var v=a(42),l=Object(v.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"参考原文"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考原文"}},[t._v("#")]),t._v(" 参考原文")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://doocs.github.io/advanced-java/#/./docs/high-concurrency",target:"_blank",rel:"noopener noreferrer"}},[t._v("原文"),a("OutboundLink")],1)]),t._v(" "),a("h2",{attrs:{id:"消息队列优点和缺点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#消息队列优点和缺点"}},[t._v("#")]),t._v(" 消息队列优点和缺点")]),t._v(" "),a("p",[t._v("优点：解耦、异步、削峰")]),t._v(" "),a("ul",[a("li",[t._v("解耦: 通过一个 MQ，Pub/Sub 发布订阅消息这么一个模型，就可以跟其它系统彻底解耦了")]),t._v(" "),a("li",[t._v("异步: 用户几乎是无感知的")]),t._v(" "),a("li",[t._v("削峰: 高峰期抗住压力")])]),t._v(" "),a("p",[t._v("缺点")]),t._v(" "),a("ul",[a("li",[t._v("系统可用性降低: 系统引入的外部依赖越多，越容易挂掉")]),t._v(" "),a("li",[t._v("系统复杂度提高: 重复消费，消息丢失")]),t._v(" "),a("li",[t._v("一致性问题: 系统间不一致")])]),t._v(" "),a("h2",{attrs:{id:"kafka、activemq、rabbitmq、rocketmq-优缺点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#kafka、activemq、rabbitmq、rocketmq-优缺点"}},[t._v("#")]),t._v(" Kafka、ActiveMQ、RabbitMQ、RocketMQ 优缺点")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("特性")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("ActiveMQ")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("RabbitMQ")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("RocketMQ")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("Kafka")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("单机吞吐量")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("万级，比 RocketMQ、Kafka 低一个数量级")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("同 ActiveMQ")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("10 万级，支撑高吞吐")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("10 万级，高吞吐，一般配合大数据类的系统来进行实时数据计算、日志采集等场景")])]),t._v(" "),a("tr",[a("td",[t._v("topic 数量对吞吐量的影响")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}}),t._v(" "),a("td",{staticStyle:{"text-align":"left"}}),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("topic 可以达到几百/几千的级别，吞吐量会有较小幅度的下降，这是 RocketMQ 的一大优势，在同等机器下，可以支撑大量的 topic")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("topic 从几十到几百个时候，吞吐量会大幅度下降，在同等机器下，Kafka 尽量保证 topic 数量不要过多，如果要支撑大规模的 topic，需要增加更多的机器资源")])]),t._v(" "),a("tr",[a("td",[t._v("时效性")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("ms 级")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("微秒级，这是 RabbitMQ 的一大特点，延迟最低")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("ms 级")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("延迟在 ms 级以内")])]),t._v(" "),a("tr",[a("td",[t._v("可用性")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("高，基于主从架构实现高可用")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("同 ActiveMQ")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("非常高，分布式架构")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("非常高，分布式，一个数据多个副本，少数机器宕机，不会丢失数据，不会导致不可用")])]),t._v(" "),a("tr",[a("td",[t._v("消息可靠性")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("有较低的概率丢失数据")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("基本不丢")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("经过参数优化配置，可以做到 0 丢失")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("同 RocketMQ")])]),t._v(" "),a("tr",[a("td",[t._v("功能支持")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("MQ 领域的功能极其完备")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("基于 erlang 开发，并发能力很强，性能极好，延时很低")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("MQ 功能较为完善，还是分布式的，扩展性好")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("功能较为简单，主要支持简单的 MQ 功能，在大数据领域的实时计算以及日志采集被大规模使用")])])])]),t._v(" "),a("ul",[a("li",[t._v("不推荐用 ActiveMQ")]),t._v(" "),a("li",[t._v("RabbitMQ erlang 开源的，稳定支持，活跃度高")]),t._v(" "),a("li",[t._v("RocketMQ: 阿里出品(已捐给 Apache)，有突然黄掉的风险")]),t._v(" "),a("li",[t._v("大数据领域, 日志 Kafka")])])])}),[],!1,null,null,null);e.default=l.exports}}]);